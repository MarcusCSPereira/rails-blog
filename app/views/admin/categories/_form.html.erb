<div class="row">
  <%= form_with(model: [:admin, category], class: "form", id: "category-form") do |form| %>
      <div class="input-row">
        <div class="input-container">
          <%= form.label :name, class: "label" %>
          <%= form.text_field :name, placeholder: "Digite aqui o nome da categoria", class: "input", disabled: params[:action] == "show" %>
        </div>
      </div>
      <div class="input-row">
        <div class="input-container">
          <%= form.label :description, class: "label" %>
          <%= form.text_area :description, rows: 15, placeholder: "Digite aqui a descrição da categoria", class: "textarea", disabled: params[:action] == "show" %>
        </div>
      </div>

      <div>
        <%= form.label :cover_image, style: "display: block", class: "label-input-file" %>
        <%= (form.file_field :cover_image, style: "margin-bottom: 8px;" ) if params[:action] != "show" %>
        <div id= <%= dom_id(category) %> style="display: block;">
          <% if category.cover_image.attached? %>
            <div style="display: block; margin-bottom: 8px;">
              <%= image_tag category.cover_image.variant(:thumb), style: "display: block; max-width: 100%;" %>
            </div>
            <% if params[:action] != "show" %>
              <div style="display: block; clear: both; width: 100%;">
                <%= link_to "Remover imagem",destroy_cover_image_admin_category_path(category), style: "display: inline-block;", data: { "turbo-confirm": "Tem certeza que deseja remover a imagem?", "turbo-method": :delete } %>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>
      
    <%= button_to "Apagar categoria", [:admin, @category], method: :delete, class: "button small full", form_class: "full", data: {turbo: false} if params[:action] == "show" %>
    <%= form.submit style: "display: none" %>
  <% end %>
</div>